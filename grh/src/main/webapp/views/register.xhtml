<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<h:head>

	<title>#{msg['title.register']}</title>
</h:head>
<h:body>
	<h:outputStylesheet library="css" name="bootstrap-responsive.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
	<h:outputStylesheet library="css" name="docs.css" />
	<h:outputStylesheet library="css" name="custum.css" />
	<h:outputScript library="js" name="bootstrap.js" />

	<ui:define name="header">
		<ui:include src="/templates/headers/header.xhtml"></ui:include>
	</ui:define>

	<h1>#{msg['title.register']}</h1>
	<h:form id="formRegister" prependId="false" styleClass="form-horizontal">
		<h3>#{msg['register.account']}</h3>
		<div class="control-group">

			<h:outputLabel styleClass="control-label" for="username" value="#{msg['register.username']}" />
			<div class="controls">
				<p:inputText id="username" required="true" requiredMessage="Nom d'utilisateur obligatoire !"
					validatorMessage="Le nom d'utilisateur doit être compris entre 2 et 25 caractères !"
					value="#{registerBean.newUser.username}">
					<f:validateLength maximum="35" minimum="2" />
				</p:inputText>
				<h:message styleClass="help-inline" id="usernameMsg" for="username" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="email" value="#{msg['register.mail']}" />
			<div class="controls">
				<p:inputText id="email" value="#{registerBean.newUser.email}" />
				<h:message styleClass="help-inline" id="emailMsg" for="email" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="password" value="#{msg['register.password']}" />
			<div class="controls">
				<p:inputText id="password" value="#{registerBean.newUser.password}" />
				<h:message styleClass="help-inline" id="passwordMsg" for="password" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="rePassword" value="#{msg['register.rePassword']}" />
			<div class="controls">
				<p:inputText id="rePassword" value="#{registerBean.rePassword}" />
				<h:message styleClass="help-inline" id="rePasswordMsg" for="rePassword" />
			</div>
		</div>

		<h3>#{msg['register.personal']}</h3>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="firstName" value="#{msg['register.firstName']}" />
			<div class="controls">
				<p:inputText id="firstName" required="true" requiredMessage="Nom obligatoire !"
					validatorMessage="Le nom doit être compris entre 2 et 25 caractères !"
					value="#{registerBean.newUser.nom}">
					<f:validateLength maximum="35" minimum="2" />
				</p:inputText>
				<h:message styleClass="help-inline" id="firstNameMsg" for="firstName" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="lastName" value="#{msg['register.lastName']}" />
			<div class="controls">
				<p:inputText id="lastName" required="true" requiredMessage="Prénom obligatoire !"
					validatorMessage="Le Prénom doit être compris entre 2 et 25 caractères !"
					value="#{registerBean.newUser.prenom}">
					<f:validateLength maximum="35" minimum="2" />
				</p:inputText>
				<h:message styleClass="help-inline" id="lastNameMsg" for="lastName" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="adresse" value="#{msg['register.adresse']}" />
			<div class="controls">
				<p:inputTextarea id="adresse" value="#{registerBean.newUser.adresse}" />
				<h:message styleClass="help-inline" id="adresseMsg" for="adresse" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="phone" value="#{msg['register.phone']}" />
			<div class="controls">
				<p:inputText id="phone" value="#{registerBean.newUser.telephone}" />
				<h:message styleClass="help-inline" id="phoneMsg" for="phone" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="age" value="#{msg['register.age']}" />
			<div class="controls">
				<p:inputText id="age" value="#{registerBean.newUser.age}" />
				<h:message styleClass="help-inline" id="ageMsg" for="age" />
			</div>
		</div>

		<div class="control-group">
			<h:outputLabel styleClass="control-label" for="gender" value="#{msg['register.age']}" />
			<div class="controls">
				<p:selectOneMenu id="gender" value="#{registerBean.newUser.sexe}">
					<f:selectItems value="#{enumsBean.sexes}" var="sexe" itemValue="#{sexe}"
						itemLabel="#{sexe.label}" />
				</p:selectOneMenu>
				<h:message styleClass="help-inline" id="genderMsg" for="gender" />
			</div>
		</div>
		<div class="form-actions">
			<p:commandButton value="register" styleClass="btn btn-primary btn-small"
				action="#{registerBean.register}" update="formRegister" ajax="false" />
			<p:commandButton value="Annuler" styleClass="btn btn-small" />
		</div>
	</h:form>

</h:body>
</html>